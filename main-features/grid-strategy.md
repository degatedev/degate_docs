# 网格策略

网格策略交易是用户先指定价格区间内的预设价格，自动挂单进行高抛低吸，赚取差价利润的交易方法。DeGate协议目前支持中性等差网格策略，即用户需准备交易对的两种代币，网格价差为等差数列分布。

### 交易原理

与订单簿下单一样，创建DeGate网格策略的资金同样为用户自托管，具体步骤如下

1. 用户设置网格策略的参数，确认创建策略时，会自动以资产私钥签名生成一个网格策略，内容为用户设置的策略参数，这些参数定义了如何挂网格订单。一个网格策略至少包含两个网格订单。
2. DeGate节点收到用户签名，验证通过后，按照签名内容完成初始网格订单的下单。需要注意的是，因为是中性策略，所以全部初始网格订单都必须为Maker订单，否则策略创建会失败。
3. 每当一个网格订单被撮合成交，电路都会验证该笔撮合符合用户的签名授权。
4. 当一个网格订单被完全成交后，DeGate节点会依照用户事先授权的签名来派生出一个新的网格订单。例如当买单完全成交后，会在更高的价格挂一个相同数量的卖单。当卖单完全成交后，会在更低的价格挂一个相同数量的买单。如此便实现了网格策略的自动交易。
5. 网格订单反复成交和挂单之间的净资金差，属于策略的做市收益。做市收益直接计入可用余额，不会被锁定。

### 策略参数

网格策略所需设置参数如下：

1. \*\*价格区间：\*\*由最低价格和最高价格组成，是网格策略的运行区间，所有网格订单价格不会超出区间。
2. \*\*初始投入：\*\*运行策略需要锁定的初始资金，买单需要计价币种，卖单需要交易币种。
3. \*\*网格数：\*\*同时运行的网格订单数量，不区分买入还是卖出。最少2格，最多255格。
4. \*\*每格数量：\*\*网格订单的买卖数量，所有网格订单都一样。
5. \*\*网格宽度：\*\*是网格策略盈利能力的重要参数。网格宽度 = (卖出价格 - 买入价格) / 卖出价格。
6. \*\*有效期：\*\*网格策略于有效期满后自动过期，网格订单会自动取消。默认180天，最多365天。

### 创建方式

DeGate网站提供了一键创建和手动创建两种模式。一键模式下会根据交易对近期交易、账户可用余额、最小订单价值等数据，自动填入网格策略参数，用户可以调整初始投入参数。手动模式下用户则可以调整任意参数。如果参数相同，两种模式创建出的策略也相同，没有差异。

### 预览网格策略

用户设置了参数，完成创建之前，可在界面K线区预览全部的网格订单分布情况。

### 网格策略详情

策略创建后，可查看详细数据，包括策略参数、运行中的网格订单、已成交的订单。也可以对策略做进一步操作，如取消策略、复制策略、图形化查看。

### 取消网格策略

用户能随时取消运行中的网格策略，这将取消其下所有进行中的网格订单，已锁定资金也立即变成可用状态。用户还可以在已取消的策略内，继续进行链上取消策略的操作。该操作需支付矿工费，而且网格订单越多，费用越高。

### 复制网格策略

用户可复制已经结束的策略，会把该策略的参数复制出来，以快速创建一个新的策略。

### 图形化查看

用户还能可视化地查看运行中的策略，在K线图上查看网格订单和近期成交。

### 流动性挖矿

DeGate流动性挖矿项目开始后，需以网格策略参与挖矿。详见：[liquidity-mining.md](liquidity-mining.md "mention")
