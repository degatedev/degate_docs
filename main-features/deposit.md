# 划入

往DeGate账户划入资产后，资产可用来挂单交易。如图所示，用户链上发起一笔资产充值交易，交易入块并通过12个区块确认后，DeGate节点会把充值数量计入账户可用余额，用户就能立即使用这笔资产。同时，Operator会发起一笔确认充值的链下交易，经过打包、出块、生成证明流程、更新默克尔树资产一系列操作后，最终rollup到链上，完成资产划入。

<figure><img src="../.gitbook/assets/Screen Shot 2022-10-07 at 13.09.58.png" alt=""><figcaption><p>充值过程</p></figcaption></figure>

### 高级划入和标准划入

通过调用DeGate智能合约方法完成划入的过程，在degate网站中称为「高级划入」。所有资产都可用这种方式完成资产划入，并且对划入数量没有特殊限制。

为了降低用户的划入成本，DeGate提还供了标准划入，用户直接转账到DeGate合约地址便可完成资产划入。但标准划入方法无法实现资产完全trustless，用户需要信任DeGate节点会如实入账。所以节点运营方也限制了标准划入的资金量和支持的币种范围，来减少可能的用户损失。

<table><thead><tr><th width="195">对比</th><th width="277">高级划入</th><th>标准划入</th></tr></thead><tbody><tr><td>用户发起的资产划入交易Gas使用量<span data-gb-custom-inline data-tag="emoji" data-code="0031">1️</span></td><td>ETH：~110141<br>ERC20：~132605</td><td>ETH：~21055<br>ERC20：~60000</td></tr><tr><td>入账时间</td><td>资产划入交易12个区块确认</td><td>资产划入交易12个区块确认</td></tr><tr><td>适用资产</td><td>全部</td><td>部分，节点运营方配置</td></tr><tr><td>Trustless</td><td>DeGate合约会校验划入目标地址和资产数量。如果划入未得到处理，一段时间后可调用合约方法取回。</td><td>DeGate合约只能校验资产数量，无法校验划入目标地址。<strong>DeGate节点有能力修改目标地址</strong>。如果划入未得到处理，用户无法自行取回，需要联系节点运营方退币。</td></tr><tr><td>限制</td><td>无限制</td><td>单笔划入有金额限制；<br>所有待确认的标准划入资产有金额总量限制</td></tr></tbody></table>

注:digit\_one:：Gas消耗为测试结果平均值。划入ERC20币种的Gas消耗与其合约方法实现相关，可能实际会更多。

### 付费入账

通常情况下，节点补贴了确认划入请求的L1矿工费成本，用户只需要承担发资产划入交易的费用。为防止机制被利用，引入了免费补贴次数，设定了上限，被使用后会随时间线性恢复。高级划入和标准划入的参数各不同。免费次数用完后，用户的划入需要付费才能确认入账。

高级划入的付费入账逻辑由DeGate合约控制。调用合约之时如果免费次数正好用完，则用户需要在交易中额外支付0.01 ETH（该参数由节点运营方设置），否则资产划入交易会失败。

标准划入的付费入账逻辑由DeGate节点控制。不同的是，当DeGate节点确认资产划入交易时才判断免费次数。这时如果免费次数刚好用完，用户需要另外支付一笔ETH费用（该参数由节点运营方设置）来完成入账。用户可以在「资产记录」中找到这笔划入记录，点击「付费入账」完成操作。

### 跨链划入

